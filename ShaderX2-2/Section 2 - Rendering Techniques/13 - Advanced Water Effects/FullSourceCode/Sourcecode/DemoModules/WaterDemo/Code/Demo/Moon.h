
//********************************************************************************************************************
//********************************************************************************************************************
//*
//*				Project:			IGNITION
//*
//********************************************************************************************************************
//********************************************************************************************************************
//*
//*				Subproject:			SkydomeDemo
//*				File:				Moon.h
//*				Description:		Moon sky object
//*
//********************************************************************************************************************
//*
//*				Author:				Marco Spoerl
//*									Copyright (c) 2003 Marco Spoerl
//*									All rights reserved.
//*
//********************************************************************************************************************
//********************************************************************************************************************
//*
//*				Status:				In progress
//*
//********************************************************************************************************************
//*
//*				History:
//*
//*				03/15/03| 0.0.1		## Initial release	(ms) ##
//*
//********************************************************************************************************************
//********************************************************************************************************************

//------------- PREPROCESSOR -----------------------------------------------------------------------------------------

#ifndef			MOON_H_INCLUDED
#define			MOON_H_INCLUDED

#if				_MSC_VER > 1000
#pragma once
#ifdef			IGN_SWITCH_SHOW_HEADER
#pragma message ("---> Moon.h\n")
#endif
#endif 

//------------- DEPENDENCIES -----------------------------------------------------------------------------------------

#include		"SkyObject.h"

//------------- FORWARD DECLARATIONS ---------------------------------------------------------------------------------

//------------- DEFINITIONS ------------------------------------------------------------------------------------------

//------------- DECLARATIONS -----------------------------------------------------------------------------------------

class MOON : public SKYOBJECT
{

public:

	//
	// Constructors/Destructors
	//

	MOON	( IGN_OBJIF_GfxContext*	a_pGfxContextInterface );
	~MOON	();

private:

	//
	// Moon data
	//

	IGNDOUBLE m_dFV;

	//
	// Protected methods
	//

	IGNDOUBLE			ComputeGeocentricPosition	( const IGNDOUBLE& a_dSunLongitude
													, const IGNDOUBLE& a_dSunMeanAnomaly );

public:


	//
	// Public interface
	//

	void				Prepare						( const IGNDOUBLE& a_dSunLongitude
													, const IGNDOUBLE& a_dSunMeanAnomaly );

	const IGNDOUBLE&	GetPhaseAngle				( void ) const;

};

//------------- INLINE IMPLEMENTATION --------------------------------------------------------------------------------

inline const IGNDOUBLE&	MOON::GetPhaseAngle						( void ) const
{
	//----------------------------------------------------------|--------------------------------------GetPhaseAngle-|
	// public method
	// Returns the moon's current phase angle

	return m_dFV;
}

//------------- PREPROCESSOR END -------------------------------------------------------------------------------------

#endif // MOON_H_INCLUDED
